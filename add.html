<html>
  <head>
    <meta charset="UTF-8">
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'sha256-rU8YFRFNsnWLGGDkuMkyfP8JFH8lv68mmlhuOiRfQog=' ">
    <meta http-equiv="X-Content-Security-Policy" content="default-src 'self'; script-src 'self'">
    <title>Add new Todo</title>
  </head>
  <body>
    <div>
        <form>
            <label for="addInput">Enter your Todo:</label>
            <input type="text" autofocus id="addInput" name="todo">
            <button type="submit">Add</button>
        </form>
    </div>

  </body>


  <script>
      const { ipcRenderer } = require("electron");

      const form = document.querySelector("form");

      form.addEventListener("submit", (event) => {
          console.log("hi")
            event.preventDefault();

            const todo = document.querySelector("#addInput").value;

            if(!todo) {
                return
            }

            ipcRenderer.send("todo:add", todo);
      })
  </script>

</html>